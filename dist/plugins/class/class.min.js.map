{
  "version": 3,
  "sources": ["../../../src/plugins/class/class.js"],
  "sourcesContent": ["import { parseInterval } from \"oyc\";\n\nexport const attribute = \"oyc-class\";\n/**\n * A classes attribute value consists of \u201Cruns\u201D, which are separated by an & character. All class operations within a given run will be applied sequentially, with the delay specified.\n *\n * Within a run, a , character separates distinct class operations.\n *\n * A class operation is an operation name add, remove, or toggle, a colon, a CSS class name, optionally followed by a colon : and a time delay.\n * @param {Element} element\n */\nexport function processClassString(element) {\n  const classAttr = element.getAttribute(attribute);\n  if (!classAttr) {\n    return;\n  }\n  const runs = classAttr.split(\"&\");\n\n  for (let i = 0; i < runs.length; i++) {\n    const operations = runs[i].split(\",\");\n    let totalDelay = 0;\n\n    for (let j = 0; j < operations.length; j++) {\n      const [action, className, delayStr] = operations[j].split(\":\");\n      const delay = delayStr ? parseInterval(delayStr) : 0;\n\n      if (action === \"toggle\") {\n        setTimeout(() => {\n          setInterval(() => {\n            element.classList.toggle(className);\n          }, delay);\n        }, totalDelay);\n        return;\n      }\n\n      totalDelay += delay;\n\n      setTimeout(() => {\n        if (action === \"add\") {\n          element.classList.add(className);\n          return;\n        } else {\n          element.classList.remove(className);\n        }\n      }, totalDelay);\n    }\n  }\n}\n\nconst extension = {\n  name: \"oyc-class\",\n  attribute,\n  process: processClassString,\n};\nexport default extension;\n"],
  "mappings": "AAAA,OAAS,iBAAAA,MAAqB,MAEvB,IAAMC,EAAY,YASlB,SAASC,EAAmBC,EAAS,CAC1C,IAAMC,EAAYD,EAAQ,aAAaF,CAAS,EAChD,GAAI,CAACG,EACH,OAEF,IAAMC,EAAOD,EAAU,MAAM,GAAG,EAEhC,QAASE,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAAK,CACpC,IAAMC,EAAaF,EAAKC,CAAC,EAAE,MAAM,GAAG,EAChCE,EAAa,EAEjB,QAASC,EAAI,EAAGA,EAAIF,EAAW,OAAQE,IAAK,CAC1C,GAAM,CAACC,EAAQC,EAAWC,CAAQ,EAAIL,EAAWE,CAAC,EAAE,MAAM,GAAG,EACvDI,EAAQD,EAAWZ,EAAcY,CAAQ,EAAI,EAEnD,GAAIF,IAAW,SAAU,CACvB,WAAW,IAAM,CACf,YAAY,IAAM,CAChBP,EAAQ,UAAU,OAAOQ,CAAS,CACpC,EAAGE,CAAK,CACV,EAAGL,CAAU,EACb,MACF,CAEAA,GAAcK,EAEd,WAAW,IAAM,CACf,GAAIH,IAAW,MAAO,CACpBP,EAAQ,UAAU,IAAIQ,CAAS,EAC/B,MACF,MACER,EAAQ,UAAU,OAAOQ,CAAS,CAEtC,EAAGH,CAAU,CACf,CACF,CACF,CAEA,IAAMM,EAAY,CAChB,KAAM,YACN,UAAAb,EACA,QAASC,CACX,EACOa,EAAQD",
  "names": ["parseInterval", "attribute", "processClassString", "element", "classAttr", "runs", "i", "operations", "totalDelay", "j", "action", "className", "delayStr", "delay", "extension", "class_default"]
}
